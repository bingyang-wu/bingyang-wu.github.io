---
title: Java设计模式&工厂模式
date: 2020-03-29 16:01:00
tags: 
	- Java
	- 设计模式
categories: Java
cover: https://i.loli.net/2020/03/29/5BnygzmKMAqowcJ.jpg

---

## 工厂模式

实现了创建者和调用者的分离。

分类：

* 简单工厂模式

* 工厂方法模式

* 抽象工厂模式

  

### 简单工厂模式

```java
public interface Car {
    void run();
}
```

```java
public class Audi implements Car {
    @Override
    public void run() {
        System.out.println("奥迪在跑...");
    }
}
```

```java
public class Byd implements Car {
    @Override
    public void run() {
        System.out.println("比亚迪在跑...");
    }
}
```



#### 没有工厂模式

```java
public class Client01 {
    public static void main(String[] args) {
        Car c1 = new Audi();
        Car c2 = new Byd();
        c1.run();
        c2.run();
    }
}
```

#### 简单工厂模式

```java
/**
 * 第一种简单工厂模式
 */
public class CarFactory {
    public static Car createCar(String type) {
        if ("奥迪".equals(type)) {
            return new Audi();
        }

        if ("比亚迪".equals(type)) {
            return new Byd();
        }

        return null;
    }
}
```

```java
/**
 * 第二种简单工厂模式
 */
public class CarFactory2 {
    public static Car createAudi() {
        return new Audi();
    }

    public static Car createByd() {
        return new Byd();
    }
}
```



```java
/**
 * 简单工厂模式下
 */
public class Clent02 {
    public static void main(String[] args) {

        Car c1 = CarFactory.createCar("奥迪");
        Car c2 = CarFactory.createCar("比亚迪");
        c1.run();
        c2.run();

        Car c3 = CarFactory2.createAudi();
        Car c4 = CarFactory2.createByd();
        c3.run();
        c4.run();
    }
}
```



### 工厂方法模式

```java
public interface Car {
    void run();
}
```

```java
public class Audi implements Car {
    @Override
    public void run() {
        System.out.println("奥迪在跑...");
    }
}
```

```java
public class Byd implements Car {
    @Override
    public void run() {
        System.out.println("比亚迪在跑...");
    }
}
```



只定义接口和方法，具体的实现让各自实现

```java
public interface CarFactory {
    Car createCar();
}
```

```java
public class AudiFactory implements CarFactory {
    @Override
    public Car createCar() {
        return new Audi();
    }
}
```

```java
public class BydFactory implements CarFactory {
    @Override
    public Car createCar() {
        return new Byd();
    }
}
```



测试

```java
public class Client {
    public static void main(String[] args) {
        Car c1 = new AudiFactory().createCar();
        c1.run();

        Car c2 = new BydFactory().createCar();
        c2.run();

        Car c3 = new BenzFactory().createCar();
        c3.run();
    }
}
```



### 抽象工厂模式

![abstractfactory.png](https://i.loli.net/2020/03/29/qy9CV5avcknX8ub.png)